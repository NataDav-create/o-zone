(()=>{"use strict";(function(){const t=document.querySelector(".goods");return fetch("../db/db.json").then((t=>{if(t.ok)return t.json();throw new Error(t.status)})).then((t=>t)).catch((e=>{console.log(e),t.innerHTML='<div style="color: red; font-size: 30px">Something went wrong</div>'}))})().then((t=>{!function(t){const e=document.querySelector(".goods");t.goods.forEach((({img:t,price:n,title:c,sale:o,category:a})=>{const l=document.createElement("div");l.className="col-12 col-md-6 col-lg-4 col-xl-3",l.innerHTML=`\n\t\t\t\t\t\t\t\t<div class="card" data-category="${a}">\n\t\t\t\t\t\t\t\t${o?'<div class="card-sale">ðŸ”¥Hot SaleðŸ”¥</div>':""}\n\t\t\t\t\t\t\t\t\t<div class="card-img-wrapper">\n\t\t\t\t\t\t\t\t\t\t<span class="card-img-top"\n\t\t\t\t\t\t\t\t\t\t\tstyle="background-image: url('${t}')"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="card-body justify-content-between">\n\t\t\t\t\t\t\t\t\t\t<div class="card-price">${n} â‚½</div>\n\t\t\t\t\t\t\t\t\t\t<h5 class="card-title">${c}</h5>\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary">Ð’ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n    `,e.appendChild(l)}))}(t),function(){const t=document.querySelectorAll(".goods .card"),e=document.querySelector(".catalog-list"),n=document.querySelector(".catalog-button"),c=document.querySelector(".catalog"),o=new Set;t.forEach((t=>{o.add(t.dataset.category)})),o.forEach((t=>{const n=document.createElement("li");n.textContent=t,e.appendChild(n)}));const a=e.querySelectorAll("li");n.addEventListener("click",(e=>{c.style.display?c.style.display="":c.style.display="block","LI"===e.target.tagName&&(t.forEach((t=>{t.dataset.category===e.target.textContent?t.parentNode.style.display="":t.parentNode.style.display="none"})),a.forEach((t=>{t===e.target?t.classList.add("active"):t.classList.remove("active")})),actionPage())}))}(),document.getElementById("discount-checkbox").addEventListener("change",(function(){!0===this.checked?this.nextElementSibling.classList.add("checked"):this.nextElementSibling.classList.remove("checked")})),function(){const t=document.getElementById("cart"),e=document.querySelector(".cart"),n=document.querySelector(".cart-close");t.addEventListener("click",(()=>{e.style.display="flex",document.body.style.overflow="hidden"})),n.addEventListener("click",(()=>{e.style.display="none",document.body.style.overflow=""}))}(),function(){const t=document.querySelectorAll(".goods .card"),e=document.querySelector(".cart-wrapper"),n=document.getElementById("cart-empty"),c=document.querySelector(".counter");function o(){const t=e.querySelectorAll(".card"),o=e.querySelectorAll(".card-price"),a=document.querySelector(".cart-total span");let l=0;c.textContent=t.length,o.forEach((t=>{let e=parseFloat(t.textContent);l+=e})),a.textContent=l,0!==t.length?n.remove():e.appendChild(n)}t.forEach((t=>{t.querySelector("button").addEventListener("click",(()=>{const n=t.cloneNode(!0);e.appendChild(n),o();const c=n.querySelector(".btn");c.textContent="Delete",c.addEventListener("click",(()=>{n.remove(),o()}))}))}))}(),function(){const t=document.querySelectorAll(".goods .card"),e=document.getElementById("discount-checkbox"),n=document.getElementById("min"),c=document.getElementById("max"),o=document.querySelector(".search-wrapper_input"),a=document.querySelector(".search-btn"),l=document.querySelector(".catalog-list li.active");function r(){t.forEach((t=>{const e=t.querySelector(".card-price"),o=parseFloat(e.textContent);n.value&&o<n.value||c.value&&o>c.value?t.parentNode.style.display="none":t.parentNode.style.display=""}))}e.addEventListener("click",(()=>{t.forEach((t=>{e.checked?t.querySelector(".card-sale")||(t.parentNode.style.display="none"):l?t.dataset.category!==l.textContent&&(t.parentNode.style.display="none"):t.parentNode.style.display=""}))})),n.addEventListener("change",r),c.addEventListener("change",r),a.addEventListener("click",(()=>{const e=new RegExp(o.value.trim(),"i");t.forEach((t=>{const n=t.querySelector(".card-title");e.test(n.textContent)?t.parentNode.style.display="":t.parentNode.style.display="none"})),o.value=""}))}()}))})();